DEFINITION MODULE TileSet;

CONST
    TileSize = 10;
    GridSize = 12;
    Edges = 8;
    MaxEdgeValue = 1023;  (* (2 ** TileSize) - 1 *)
TYPE
    TileNumber = [1 .. 9999];
    TileIndex = [0 .. GridSize * GridSize];
    Coord = [1 .. TileSize];
    EdgeValue = [0 .. MaxEdgeValue];
    EdgeIndex = [1 .. Edges];
    Tile = 
        RECORD
            cell    : ARRAY Coord OF
                        ARRAY Coord OF BOOLEAN;
            number  : TileNumber;
            edge    : ARRAY EdgeIndex OF EdgeValue;
        END;
    TileSet =
        RECORD
            tile        : ARRAY TileIndex OF Tile;
            max_index   : TileIndex;
        END;

PROCEDURE ReadTileSet(filename      : ARRAY OF CHAR;
                      VAR tile_set  : TileSet;
                      VAR error     : BOOLEAN);
PROCEDURE Rotate(input : Tile): Tile;
PROCEDURE Flip(input : Tile): Tile;
PROCEDURE ComputeEdges(VAR tile_set : TileSet);
PROCEDURE PrintTile(tile : Tile);

END TileSet.
